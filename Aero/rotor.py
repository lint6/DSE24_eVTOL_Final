import numpy as np
import matplotlib as plt

class BEMT():
    # coding on blade-element momentum theory

    def __init__(self):
        # constants
        self.rho = 1.225 # kg/m^3, the air density

        # airfoil specification
        self.a_r = 5.73  # rad/s, the profile lift curve slope in the linear region
        self.c_d = 1 # - , profile drag coefficient

        # specify initial rotor sizing parameters
        self.R = 5 # m, the rotor radius in meters






    def lift_drag(self, omega=None, theta_r=None, c_r=None, r=None, dr=None, V_c=None):
        # define non-dimensionalised rotor radius position
        r_bar = r / self.R
        V_t = omega * self.R

        # compute induced velocity at point r
        v_r = 1


        # lift for a blade element of size dr
        dL_r = 0.5 * self.a_r * self.rho * (theta_r - (V_c + v_r)/(omega * r)) * c_r * ((omega * r)**2) * dr

        # drag for a blade element of size dr
        dDp_r = 0.5 * c_d * self.rho * ((omega * r)**2) * c_r * dr

        # thrust generated by a blade element of size dr
        dT_r = dL_r - dDp_r * ((V_c + v_r)/(omega * r))

        # torque needed for a blade element of size dr
        dQ_r = (dL_r * ((V_c + v_r)/(omega * r)) + dDp_r) * r




